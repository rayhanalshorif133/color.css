var colors = ['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'violet', 'purple', 'pink', 'black', 'white', 'gray', 'brown', 'redwood'];
$(function () {
    sideBarColorGroupInjector();
    // Intervals
    setInterval(() => {
        randomBGColorHandler();
    }, 3000);
});

sideBarColorGroupInjector = () => {
    console.log("sideBarColorGroupInjector");
    let color_group = '';
    let color_group_bg = '';
    for (let index = 0; index < colors.length; index++) {
        const color = colors[index];
        color_group = `
                    <li class="color-item color-item-color" data-color="color__${color}">
                        <span class="color-item--title">color__${color}</span>
                        <button class="copy-icon" type="button">
                            <span class="tooltip">Copy class name to
                                clipboard</span>
                        </button>
                    </li>
            `;
        $(".text_color").append(color_group);
        color_group_bg = `
                    <li class="color-item color-item-bg" data-color="color__${color}-bg">
                        <span class="color-item--title">color__${color}-bg</span>
                        <button class="copy-icon" type="button">
                            <span class="tooltip">Copy class name to
                                clipboard</span>
                        </button>
                    </li>
            `;
        $(".bg_color").append(color_group_bg);
    }
}

randomBGColorHandler = () => {
    $(".color__colored").each(function () {
        if ($(this).hasClass("color__random-bg")) {
            const color = colors[Math.floor(Math.random() * colors.length)];
            const bg_color = `color__${color}-bg`;
            $(this).removeClass(function (index, className) {
                return (className.match(/(^|\s)color__\S+-bg/g) || []).join(' ');
            });
            $(this).addClass("color__random-bg");
            $(this).addClass(bg_color);
        }
    });
}

